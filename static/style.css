:root { --bg:#0b1520; --panel:#0f1f2d; --muted:#5b718a; --text:#e6edf5; --accent:#12b886; --border:#203244; }
.light { --bg:#f7fafc; --panel:#ffffff; --muted:#6b7280; --text:#0b1520; --accent:#0ea5a5; --border:#e5e7eb; }
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica Neue,Arial}
.app{min-height:100vh;display:grid;grid-template-rows:auto 1fr auto}
header{display:flex;align-items:center;gap:.75rem;padding:1rem 1.25rem;border-bottom:1px solid var(--border);background:var(--panel);position:sticky;top:0;z-index:10}
header h1{font-size:1.05rem;margin:0}
header .spacer{flex:1}
main{display:grid;grid-template-columns:280px 1fr;gap:1rem;max-width:1200px;margin:0 auto;width:100%;padding:1rem}
@media (max-width:900px){main{grid-template-columns:1fr}}
.sidebar{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:1rem;height:calc(100vh-140px);overflow:auto}
.sidebar h2{font-size:.9rem;margin:0 0 .75rem;color:var(--muted)}
.row{display:grid;gap:.4rem}
.row label{font-size:.85rem;color:var(--muted)}
.row input,.row select,.row textarea{width:100%;padding:.55rem .6rem;border-radius:.5rem;border:1px solid var(--border);background:transparent;color:var(--text)}
.help{font-size:.8rem;color:var(--muted)}
.chat{display:flex;flex-direction:column;gap:1rem;height:calc(100vh - 140px)}
.messages{flex:1;overflow:auto;padding:1rem;background:var(--panel);border:1px solid var(--border);border-radius:12px;scroll-behavior:smooth}
.msg{display:grid;grid-template-columns:40px 1fr;gap:.75rem;align-items:start}
.avatar{width:40px;height:40px;border-radius:50%;display:grid;place-items:center;font-weight:700;background:var(--panel)}
.bubble{background:var(--panel);border:1px solid var(--border);padding:.75rem .9rem;border-radius:12px}
.meta{display:flex;gap:.5rem;align-items:center;color:var(--muted);font-size:.8rem;margin-top:.35rem}
.sources{display:flex;flex-wrap:wrap;gap:.35rem;margin-top:.4rem}
.chip{padding:.2rem .45rem;border:1px solid var(--border);border-radius:999px;font-size:.75rem;color:var(--muted)}
.composer{display:flex;gap:.6rem;align-items:end;background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:.6rem}
.composer textarea{flex:1;min-height:48px;max-height:160px;resize:vertical;background:transparent;border:1px solid var(--border);border-radius:.6rem;color:var(--text);padding:.6rem}
.btn{border:1px solid var(--border);background:transparent;color:var(--text);border-radius:.6rem;padding:.55rem .8rem;cursor:pointer}
.btn.primary{border-color:var(--accent)}
.spinner{width:16px;height:16px;border:2px solid var(--muted);border-top-color:var(--accent);border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
footer{display:flex;justify-content:center;color:var(--muted);padding:.8rem;font-size:.8rem}

/* === Full-width Chat Layout (added) === */
.chat.full {
  width: 100%;
  max-width: 800px;
  margin: 0 auto;
}

main {
  display: flex;
  justify-content: center;
  padding: 1rem;
}
